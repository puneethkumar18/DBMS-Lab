-- CREATE STUDENT ENROLLMENT DATABASE
CREATE DATABASE STUDENT_ENROLLMENT;

USE STUDENT_ENROLLMENT;

-- CHECK ALL THE TABLES IN DATABASE
SHOW TABLES;


-- CREATE STUDENTS TABLE
CREATE TABLE STUDENTS(
REG_NO VARCHAR(30) PRIMARY KEY,
NAME VARCHAR(30),
MAJOR VARCHAR(20),
DOB DATE
);

-- CREATE COURSE TABLE
CREATE TABLE COURSE(
COURSE_NO INT PRIMARY KEY,
CNAME VARCHAR(20),
DEPT VARCHAR(20)
);


-- CREATE TEXTBOOK TABLE
CREATE TABLE TEXTBOOK(
BOOK_ISBN INT PRIMARY KEY,
BOOK_TITLE VARCHAR(20),
PUBLISHER VARCHAR(20),
AUTHOR VARCHAR(20)
);

-- CREATE ENROLLMENT TABLE
CREATE TABLE ENROLLMENT(
REG_NO VARCHAR(20),
COURSE INT,
SEM INT ,
MARKS INT,
FOREIGN KEY(REG_NO) REFERENCES STUDENTS(REG_NO)
ON DELETE CASCADE
);

-- CREATE BOOKADOPTION TABLE
CREATE TABLE BOOKADOPTION(
COURSE_NO INT,
SEM INT,
BOOK_ISBN INT,
FOREIGN KEY(COURSE_NO) REFERENCES COURSE(COURSE_NO)
ON DELETE CASCADE,
FOREIGN KEY(BOOK_ISBN) REFERENCES TEXTBOOK(BOOK_ISBN)
ON DELETE CASCADE
);

-- INSERT DATA INTO STUDENTS TABLE
INSERT INTO STUDENTS(REG_NO, NAME,MAJOR,DOB)
VALUES
('O1US231','PUNEETH','COMPUTER ENGINEERING','2002-02-18'),
('O1US232','KUMAR','PHILOSOPHY','2002-02-12'),
('O1US233','UJWAL','HUMANITICS','2002-02-22'),
('O1US234','SHARAN','PHYSICS','2002-09-22'),
('O1US235','KAPIL','LITERATURE','2002-01-18');

-- INSERT DATA INTO  COURSE TABLE
INSERT INTO COURSE(COURSE_NO,CNAME,DEPT)
VALUES
(110,'COMPUTER SCIENCE','COMPUTER SCIENCE'),
(210,'MPHIL','HUMANITICS'),
(310,'MSc IN PHYSICS','PHYSICS'),
(410,'MA IN ENGLISH','LITERATURE'),
(510,'HR AND FINANCE','MBA');

-- INSERT DATA INTO TEXTBOOK TABLE
INSERT INTO TEXTBOOK(BOOK_ISBN,BOOK_TITLE,PUBLISHER,AUTHOR)
VALUES
(7170,'MASTER COMPUTERS','McGROWHILL','ARUNSINGH'),
(7280,'PHYSICS OF NATURE','SHANTHINIKETHAN','VIKRAM RATHOD'),
(7390,'THE FLUENT ENGLISH','STROWPENPUBLISH','MARK SPENCER'),
(7500,'LEADS OF HUMANITY','PEARSON','HOPPER'),
(7610,'ECONOMY AND FINANCE','SHERGILL','NIRMALA');

-- INSERT DATA INTO ENROLLMENT TABLE
INSERT INTO ENROLLMENT(REG_NO,COURSE,SEM,MARKS)
VALUES
('O1US231',110,5,95),
('O1US232',210,3,85),
('O1US233',310,7,88),
('O1US234',410,5,98),
('O1US235',510,6,99);

-- INSERT DATA INTO BOOKADOPTION
INSERT INTO BOOKADOPTION(COURSE_NO,SEM,BOOK_ISBN)
VALUES
(110,4,7170),
(210,3,7280),
(310,8,7390),
(410,2,7500),
(510,7,7610);
